<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>6529 VPN</title>
  <style>
    :root {
      --bg: #0a0a0a;
      --surface: #141414;
      --border: #222;
      --text: #e0e0e0;
      --muted: #888;
      --accent: #4ecdc4;
      --accent-dim: #2a7a74;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, monospace;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }

    .container { max-width: 720px; margin: 0 auto; padding: 0 24px; }

    /* Hero */
    .hero {
      padding: 80px 0 60px;
      text-align: center;
      border-bottom: 1px solid var(--border);
    }
    .hero h1 {
      font-size: 2.5rem;
      font-weight: 700;
      letter-spacing: -0.02em;
      margin-bottom: 16px;
    }
    .hero h1 span { color: var(--accent); }
    .hero p {
      font-size: 1.1rem;
      color: var(--muted);
      max-width: 500px;
      margin: 0 auto;
    }

    /* Status badge */
    .status {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      margin-top: 24px;
      padding: 8px 16px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 20px;
      font-size: 0.85rem;
    }
    .status-dot {
      width: 8px; height: 8px;
      border-radius: 50%;
      background: #4caf50;
    }
    .status-dot.offline { background: #f44336; }

    /* Sections */
    section { padding: 48px 0; border-bottom: 1px solid var(--border); }
    section:last-child { border-bottom: none; }
    h2 {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 20px;
      color: var(--accent);
    }

    /* How it works */
    .steps {
      display: grid;
      gap: 16px;
    }
    .step {
      display: flex;
      gap: 16px;
      padding: 16px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
    }
    .step-num {
      flex-shrink: 0;
      width: 32px; height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--accent-dim);
      color: white;
      border-radius: 50%;
      font-weight: 700;
      font-size: 0.85rem;
    }
    .step-text strong { display: block; margin-bottom: 4px; }
    .step-text span { color: var(--muted); font-size: 0.9rem; }

    /* Downloads */
    .downloads {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
    }
    .dl-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 14px 20px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-size: 0.95rem;
      transition: border-color 0.2s;
    }
    .dl-btn:hover {
      border-color: var(--accent);
      text-decoration: none;
    }
    .dl-btn .os { font-weight: 600; }
    .dl-btn .arch { color: var(--muted); font-size: 0.8rem; }

    /* Code block */
    .code-block {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 16px 20px;
      font-family: 'SF Mono', 'Fira Code', monospace;
      font-size: 0.85rem;
      overflow-x: auto;
      margin: 12px 0;
    }
    .code-block .comment { color: #666; }
    .code-block .cmd { color: var(--accent); }

    /* Requirements */
    .req-list {
      list-style: none;
      display: grid;
      gap: 8px;
    }
    .req-list li {
      padding: 12px 16px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 0.95rem;
    }
    .req-list li strong { color: var(--accent); }

    /* Footer */
    footer {
      padding: 40px 0;
      text-align: center;
      color: var(--muted);
      font-size: 0.85rem;
    }
    footer a { color: var(--muted); }
    footer a:hover { color: var(--accent); }
    .footer-links { display: flex; justify-content: center; gap: 24px; margin-bottom: 12px; }
  </style>
</head>
<body>

<div class="container">

  <div class="hero">
    <h1><span>6529</span> VPN</h1>
    <p>An NFT-gated VPN for the 6529 community. Hold a Memes card, get a VPN. No accounts. No emails. No KYC.</p>
    <div class="status" id="gateway-status">
      <div class="status-dot" id="status-dot"></div>
      <span id="status-text">Checking gateway...</span>
    </div>
  </div>

  <section>
    <h2>How It Works</h2>
    <div class="steps">
      <div class="step">
        <div class="step-num">1</div>
        <div class="step-text">
          <strong>Hold a Memes card</strong>
          <span>Any card from <a href="https://6529.io/the-memes">The Memes by 6529</a> in your wallet gets you access.</span>
        </div>
      </div>
      <div class="step">
        <div class="step-num">2</div>
        <div class="step-text">
          <strong>Sign in with your wallet</strong>
          <span>The client signs a message with your Ethereum wallet. No passwords, no accounts.</span>
        </div>
      </div>
      <div class="step">
        <div class="step-num">3</div>
        <div class="step-text">
          <strong>Connect to the VPN</strong>
          <span>A WireGuard tunnel is provisioned automatically. Your traffic is encrypted and routed through the network.</span>
        </div>
      </div>
    </div>
  </section>

  <section>
    <h2>Download</h2>
    <p style="color: var(--muted); margin-bottom: 16px;">Download the <code>svpn</code> client for your platform:</p>
    <div class="downloads">
      <a href="/downloads/svpn-darwin-arm64" class="dl-btn">
        <div><div class="os">macOS</div><div class="arch">Apple Silicon (M1/M2/M3)</div></div>
      </a>
      <a href="/downloads/svpn-darwin-amd64" class="dl-btn">
        <div><div class="os">macOS</div><div class="arch">Intel</div></div>
      </a>
      <a href="/downloads/svpn-linux-amd64" class="dl-btn">
        <div><div class="os">Linux</div><div class="arch">x86_64</div></div>
      </a>
      <a href="/downloads/svpn-windows-amd64.exe" class="dl-btn">
        <div><div class="os">Windows</div><div class="arch">x86_64</div></div>
      </a>
    </div>
  </section>

  <section>
    <h2>Quick Start</h2>

    <p style="color: var(--muted); margin-bottom: 12px;">1. Generate a wallet (or use an existing one with a Memes card):</p>
    <div class="code-block">
      <span class="cmd">./svpn keygen --out wallet.key</span>
    </div>

    <p style="color: var(--muted); margin-bottom: 12px; margin-top: 20px;">2. Connect to the VPN:</p>
    <div class="code-block">
      <span class="cmd">./svpn connect --gateway https://6529vpn.io --key wallet.key</span>
    </div>

    <p style="color: var(--muted); margin-bottom: 12px; margin-top: 20px;">3. Activate the WireGuard tunnel:</p>
    <div class="code-block">
      <span class="cmd">sudo wg-quick up ./sovereign-vpn.conf</span>
    </div>

    <p style="color: var(--muted); margin-bottom: 12px; margin-top: 20px;">4. To disconnect:</p>
    <div class="code-block">
      <span class="cmd">sudo wg-quick down ./sovereign-vpn.conf</span>
    </div>
  </section>

  <section>
    <h2>Requirements</h2>
    <ul class="req-list">
      <li><strong>A Memes card</strong> in your Ethereum wallet (any card from The Memes by 6529)</li>
      <li><strong>WireGuard</strong> installed on your device (<a href="https://www.wireguard.com/install/">wireguard.com/install</a>)</li>
      <li><strong>The svpn client</strong> downloaded from above</li>
    </ul>
  </section>

  <section>
    <h2>Access Tiers</h2>
    <div class="steps">
      <div class="step">
        <div class="step-num" style="background: #4caf50;">F</div>
        <div class="step-text">
          <strong>Free Tier</strong>
          <span>Hold the project's Memes card (THIS card) and use the VPN for free.</span>
        </div>
      </div>
      <div class="step">
        <div class="step-num" style="background: #2196f3;">P</div>
        <div class="step-text">
          <strong>Paid Tier</strong>
          <span>Hold any other Memes card. Access for a small fee that supports node operators.</span>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="footer-links">
      <a href="https://github.com/maybehotcarl/sovereign-vpn">GitHub</a>
      <a href="https://6529.io/the-memes">The Memes</a>
      <a href="https://6529.io">6529</a>
      <a href="/health">API Status</a>
    </div>
    <p>Built for the 6529 community</p>
  </footer>

</div>

<script>
  fetch('/health')
    .then(r => r.json())
    .then(data => {
      const dot = document.getElementById('status-dot');
      const text = document.getElementById('status-text');
      if (data.status === 'ok') {
        dot.className = 'status-dot';
        text.textContent = `Gateway online \u2022 ${data.active_peers} active peer${data.active_peers !== 1 ? 's' : ''}`;
      } else {
        dot.className = 'status-dot offline';
        text.textContent = 'Gateway offline';
      }
    })
    .catch(() => {
      document.getElementById('status-dot').className = 'status-dot offline';
      document.getElementById('status-text').textContent = 'Gateway unreachable';
    });
</script>

</body>
</html>
